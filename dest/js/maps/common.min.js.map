{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","timerMain","slider","nav","mask","popup","landingScroll","innerWidth","visibleOnly","threshold","effect","effectTime","navButton","overlay","click","scrollLock","addClass","fadeIn","hide","removeClass","fadeOut","show","css","toggleClass","event","stateCheck","mobileLink","window","each","$this","this","finalDate","data","countdown","pag","hasClass","parents","find","setTimeout","eq","index","slidesToScroll","slidesToShow","lazyLoad","dots","on","children","parent","slick","jQuery","fixedContentPos","mainClass","showCloseBtn","magnificPopup","closeBtnInside","disableOn","type","preloader","removalDelay","desctopLink","headerHeight","height","body","scroll","scrollLink","div_1","length","window_top","offset","blockHeight","div_top","attr","id","top","preventDefault","is","target","animate","scrollTop"],"mappings":"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","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  timerMain();\r\n  slider();\r\n  nav();\r\n  mask();\r\n  popup();\r\n  modalMagnificBasket();\r\n  landingScroll();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth();\r\nvar mobileLink = $(\".mobile-nav__link\");\r\n\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    threshold: '',\r\n    effect: 'fadeIn',\r\n    effectTime: '300'\r\n  });\r\n}\r\n\r\n//mobile nav\r\nfunction nav() {\r\n  var navButton = $('.mobile-button, .mobile-nav__close'),\r\n      nav = $('.mobile-nav'),\r\n      overlay = $('.header__overlay');\r\n\r\n  navButton.click(function(event) {\r\n    event.preventDefault();\r\n    nav.toggleClass('mobile-nav_active');\r\n    stateCheck();\r\n  })\r\n  mobileLink.click(function() {\r\n    nav.removeClass('mobile-nav_active');\r\n    stateCheck();\r\n  })\r\n\r\n  function stateCheck() {\r\n    if(nav.hasClass('mobile-nav_active')) {\r\n      navButton.addClass('mobile-button_active');\r\n      overlay.fadeIn(300);\r\n      scrollLock.hide($(\"body\"));\r\n      $('body').css('overflow', 'hidden')\r\n    } else {\r\n      navButton.removeClass('mobile-button_active');\r\n      overlay.fadeOut(300);\r\n      scrollLock.show($(\"body\"));\r\n      $('body').css('overflow', 'visible')\r\n    }\r\n  }\r\n  $(window).resize(function () {\r\n    if(innerWidth>768) {\r\n      nav.removeClass('mobile-nav_active');\r\n      stateCheck();\r\n    }\r\n  });\r\n}\r\n//timer\r\nfunction timerMain() {\r\n  $('[data-countdown]').each(function() {\r\n    var $this = $(this), finalDate = $(this).data('countdown');\r\n    $this.countdown(finalDate, function(event) {\r\n      $this.html(event.strftime(''\r\n      + '<div><span>%d</span> Дней</div>'\r\n      + '<div><span>%H</span> Часов</div>'\r\n      + '<div><span>%M</span> Минут</div>'\r\n      + '<div><span>%S</span> Секунд</div>'));\r\n    });\r\n  });\r\n}\r\n//gallery-slider\r\nfunction slider() {\r\n\r\n  $('.catalogue-block__slider').each( function() {\r\n    $(this).slick({\r\n      arrows: true,\r\n      slidesToScroll: 1,\r\n      slidesToShow: 1,\r\n      lazyLoad: 'ondemand',\r\n      dots: true\r\n    });\r\n  });\r\n  pag();\r\n\r\n  $('.catalogue-block__slider').on('swipe', function(){\r\n    pag();\r\n  });\r\n\r\n  $('.catalogue-block__nav-slider .catalogue-block__slide').children().click(function() {\r\n    var index = $(this).parent().index();\r\n    $(this).parents('.catalogue-block').find('.catalogue-block__slider').slick('slickGoTo', index);\r\n    pag();\r\n  });\r\n\r\n  //custom pagination\r\n  function pag() {\r\n    $(\".slick-dots li\").each(function() {\r\n      if($(this).hasClass(\"slick-active\")) {\r\n        $(this).parents('.catalogue-block').find('.catalogue-block__nav-slider .catalogue-block__slide').removeClass(\"catalogue-block__slide_active\");\r\n        $(this).parents('.catalogue-block').find('.catalogue-block__nav-slider .catalogue-block__slide').eq($(this).index()).addClass(\"catalogue-block__slide_active\");\r\n      }\r\n    });\r\n  }\r\n\r\n  $(\".catalogue-block .slick-arrow\").on('click', function(){\r\n    setTimeout(function(){\r\n      pag();\r\n    }, 100);\r\n  });\r\n\r\n  //догрузка изображений при перелистывании\r\n  $('.catalogue-block__slider').on('afterChange', function(){\r\n    lazy();\r\n  });\r\n}\r\n//mask\r\nfunction mask() {\r\n  jQuery(function($){\r\n    $(\".phone\").mask(\"9 (999) 99-9999\");\r\n });\r\n}\r\n//popup\r\nfunction popup() {\r\n}\r\nfunction modalMagnificBasket() {\r\n\t$('.popup_link').magnificPopup({\r\n\t\tcloseBtnInside: false,\r\n    fixedContentPos: true,\r\n    removalDelay: 300,\r\n    mainClass: 'mfp-fade',\r\n    showCloseBtn: true\r\n  });\r\n  $('.popup-youtube').magnificPopup({\r\n    disableOn: 576,\r\n    type: 'iframe',\r\n    mainClass: 'mfp-fade',\r\n    removalDelay: 300,\r\n    preloader: false,\r\n    fixedContentPos: true,\r\n    closeBtnInside: false,\r\n    showCloseBtn: true\r\n  });\r\n}\r\n//якорные ссылки\r\nfunction landingScroll() {\r\n  var headerHeight = $(\".header\").height();\r\n  var body = $(\"body\");\r\n  var scrollLink = $('.scroll-link')\r\n  var desctopLink = $(\".nav__link\");\r\n\r\n  function scroll() {\r\n    if(body.hasClass(\"in-scroll\")) {} else {\r\n      scrollLink.each(function () {\r\n        var window_top = $(window).scrollTop();\r\n        var div_1 = $(this).attr('href');\r\n        if($(div_1).length > 0) {\r\n          var div_top = $(div_1).offset().top;\r\n          var blockHeight = $(div_1).height();\r\n          if (window_top > (div_top - headerHeight) && window_top < (div_top - headerHeight) + blockHeight){\r\n            $('.nav__item').find('a').removeClass('scroll-link_active');\r\n            $('.nav__item').find('a[href=\"'+div_1+'\"]').addClass('scroll-link_active');\r\n          } else {\r\n            $('.nav__item').find('a[href=\"'+div_1+'\"]').removeClass('scroll-link_active');\r\n          };\r\n        }\r\n      });\r\n    }\r\n  }\r\n  $(window).scroll(function(){\r\n    scroll();\r\n  });\r\n  scrollLink.click(function (event) {\r\n    var id  = $(this).attr('href'),\r\n        top = $(id).offset().top - headerHeight + 1;\r\n    event.preventDefault();\r\n    scrollLink.removeClass('nav__link_active');\r\n    $(this).addClass('nav__link_active');\r\n\r\n    if (mobileLink.is(event.target)) {\r\n      setTimeout(function() {\r\n        $('body,html').animate({scrollTop: top}, 400);\r\n      }, 300)\r\n    } else if (desctopLink.is(event.target)) {\r\n      $('body,html').animate({scrollTop: top}, 400);\r\n      body.addClass(\"in-scroll\");\r\n      setTimeout(function() {\r\n        body.removeClass(\"in-scroll\");\r\n      }, 400)\r\n    }\r\n  })\r\n}"]}