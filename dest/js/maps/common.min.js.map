{"version":3,"sources":["common.js"],"names":["$","document","ready","lazy","timerMain","slider","nav","mask","popup","landingScroll","innerWidth","visibleOnly","threshold","effect","effectTime","navButton","overlay","click","scrollLock","addClass","fadeIn","hide","removeClass","fadeOut","show","css","toggleClass","event","stateCheck","mobileLink","window","each","$this","this","finalDate","data","countdown","navsliderNum","sliderNum","arrows","asNavFor","slick","slidesToScroll","slidesToShow","lazyLoad","infinite","focusOnSelect","on","jQuery","modalMagnificBasket","magnificPopup","closeBtnInside","fixedContentPos","removalDelay","mainClass","showCloseBtn","disableOn","type","preloader","headerHeight","height","body","scrollLink","scroll","hasClass","scrollTop","window_top","attr","div_1","div_top","offset","top","blockHeight","find","id","preventDefault","is","target","setTimeout","animate"],"mappings":"aAAAA,EAAEC,UAAUC,MAAM,WAChBC,OADAF,YACAE,SACAC,MACAC,OACAC,QACAC,sBACAC,kBAEAC,EAAAA,QAAAA,OAAa,WARfC,WAAAV,EAAA,QAAAU,eAeA,IAAIA,WAAaV,EAAE,QAAQU,aAAvBA,WAAaV,EAAE,qBAMjBA,SAAEG,OACAQ,EAAAA,SAAAA,KAAa,CACbC,aAFc,EAGdC,UAAQ,GACRC,OAAAA,SAJFA,WAAA,QAUA,SAAIC,MAAJ,IACIT,EAAQN,EAAA,sCACRgB,EAAAA,EAAO,eAEXD,EAAUE,EAAM,oBAYZF,SAAAA,IACAC,EAAAA,SAAA,sBACAE,EAAUC,SAAQ,wBAClBnB,EAACoB,OAAa,KAJhBF,WAKOG,KAAArB,EAAA,SACLe,EAAAA,QAAUO,IAAAA,WAAY,YAEtBJ,EAAUI,YAAQ,wBAClBtB,EAACuB,QAAa,KACfL,WAAAM,KAAAxB,EAAA,SACFA,EAAA,QAAAyB,IAAA,WAAA,YApBCnB,EAAIoB,MAAAA,SAAYC,GAChBC,EAAAA,iBAHFtB,EAAAoB,YAAA,qBAKAG,MAEED,WAAAA,MAAU,WAFZtB,EAAAgB,YAAA,qBAEEM,MAiBA5B,EAAA8B,QAAGpB,OAAU,WACPY,IAAJhB,aACAsB,EAAAA,YAAU,qBACXA,OAIL,SAASxB,YACPJ,EAAE,oBAAoB+B,KAAK,WACzB,IAAIC,EAAQhC,EAAEiC,MAAdC,EAAAlC,EAAAiC,MAAAE,KAAA,aAAAH,EAAqBE,UAAYlC,EAAQmC,SAAKR,GAC9CK,EAAMI,KAAAA,EAAUF,SAAW,yIAW7B,SACIG,SACJrC,IAAEsC,EAAA,EACAA,EAAS,EACTtC,EAAAA,4BAAkB+B,KAAYO,WAC5BC,IACAC,EAAAA,MAAAA,SAAU,UAAiBF,GAFmBG,MAAA,CAG9CC,QAAAA,EACAC,SAAAA,eAJ8CL,EAK9CM,eAAU,EALZD,aAAA,EAFFC,SAAA,kBAYE5C,EAAAA,gCAAkB+B,KAAgBM,WAChCE,IACAC,EAAAA,MAAAA,SAAU,cAAaH,GAF8BI,MAAA,CAGrDC,QAAAA,EACAG,SAAU,WAJ2CR,EAKrDM,eALqD,EAMrDG,UAAAA,EACAF,aAAU,EAPZE,eAAA,EAUFF,SAAA,kBAGC5C,EAFD,0DAAA+C,GAAA,cAAA,WAIF5C,SAEE6C,SAAOzC,OACLP,OAAE,SAAUO,GADdP,EAAA,UAAAO,KAAA,qBAKF,SAASC,SAET,SAASyC,sBACRjD,EAAC,eAADkD,cAAA,CACCC,gBAAc,EACZC,iBAAiB,EACjBC,aAAc,IACdC,UAAW,WACXC,cAAc,IAEhBvD,EAAE,kBAAkBkD,cAAc,CAChCM,UAAW,IACXC,KAAM,SACNH,UAAW,WACXD,aAAc,IACdK,WAAW,EACXN,iBAAiB,EACjBD,gBAAgB,EAChBI,cAAc,IAIlB,SAAS9C,gBAAT,IAAAkD,EAASlD,EAAT,WAAyBmD,SACnBD,EAAAA,EAAAA,QACAE,EAAS7D,EAAD,gBACR8D,EAAc9D,EAAC,cAgBVA,EAAA8B,QAAAiC,OAAA,WAbTF,EAASE,SAAS,cAChBD,EAAQE,KAAS,WACfF,IAAAA,EAAgB9D,EAAA8B,QAAYmC,YACtBC,EAAAA,EAAUjC,MAAKH,KAAD,QAClB,GAAoBqC,EAApBnE,EAAIoE,GAAQpE,OAAA,CAEV,IAAIqE,EAAUrE,EAAEoE,GAAOE,SAASC,IAD7BH,EAAFpE,EAAkBoE,GAAGR,SACNQ,EAAOE,EAAnBD,GAAJH,EAAAG,EAAAV,EAAAa,GACAxE,EAAIwE,cAAcxE,KAAEoE,KAAOR,YAA3B,sBAGE5D,EAAE,cAAcyE,KAAK,WAAWL,EAAM,MAAMjD,SAAS,uBADrDnB,EAAE,cAAcyE,KAAK,WAAKnD,EAAY,MAAAA,YAAA,2BAO7CwC,EAAA7C,MAAA,SAAAU,GACF,IAAA+C,EAAA1E,EAAAiC,MAAAkC,KAAA,QAMKI,EAAMvE,EAAE0E,GAAIJ,SAASC,IAAMZ,EAAe,EAL9C7B,EAAD6C,iBACCZ,EAAMzC,YAAA,oBADRtB,EAAAiC,MAAAd,SAAA,oBAIMuD,WAAOE,GAAOT,EAAKU,QAAvBC,WACYJ,WACZ/C,EAAMgD,aAAAA,QAAN,CAAAV,UAAAM,GAAA,MACAT,KACQ3C,EAASyD,GAAAjD,EAAAkD,UAOf7E,EAAE,aAAa+E,QAAQ,CAACd,UAAWM,GAAM,KAL3CV,EAAIhC,SAAW+C,aACbE,WAAW,WACT9E,EAAEsB,YAAayD,cAASd","file":"../common.min.js","sourcesContent":["$(document).ready(function () {\r\n  lazy();\r\n  timerMain();\r\n  slider();\r\n  nav();\r\n  mask();\r\n  popup();\r\n  modalMagnificBasket();\r\n  landingScroll();\r\n});\r\n$(window).resize(function () {\r\n  innerWidth = $('body').innerWidth();\r\n});\r\n\r\n//global variables\r\nvar innerWidth = $('body').innerWidth();\r\nvar mobileLink = $(\".mobile-nav__link\");\r\n\r\n\r\n//lazy\r\nfunction lazy() {\r\n  $(\".lazy\").Lazy({\r\n    visibleOnly: true,\r\n    threshold: '',\r\n    effect: 'fadeIn',\r\n    effectTime: '300'\r\n  });\r\n}\r\n\r\n//mobile nav\r\nfunction nav() {\r\n  var navButton = $('.mobile-button, .mobile-nav__close'),\r\n      nav = $('.mobile-nav'),\r\n      overlay = $('.header__overlay');\r\n\r\n  navButton.click(function(event) {\r\n    event.preventDefault();\r\n    nav.toggleClass('mobile-nav_active');\r\n    stateCheck();\r\n  })\r\n  mobileLink.click(function() {\r\n    nav.removeClass('mobile-nav_active');\r\n    stateCheck();\r\n  })\r\n\r\n  function stateCheck() {\r\n    if(nav.hasClass('mobile-nav_active')) {\r\n      navButton.addClass('mobile-button_active');\r\n      overlay.fadeIn(300);\r\n      scrollLock.hide($(\"body\"));\r\n      $('body').css('overflow', 'hidden')\r\n    } else {\r\n      navButton.removeClass('mobile-button_active');\r\n      overlay.fadeOut(300);\r\n      scrollLock.show($(\"body\"));\r\n      $('body').css('overflow', 'visible')\r\n    }\r\n  }\r\n  $(window).resize(function () {\r\n    if(innerWidth>768) {\r\n      nav.removeClass('mobile-nav_active');\r\n      stateCheck();\r\n    }\r\n  });\r\n}\r\n//timer\r\nfunction timerMain() {\r\n  $('[data-countdown]').each(function() {\r\n    var $this = $(this), finalDate = $(this).data('countdown');\r\n    $this.countdown(finalDate, function(event) {\r\n      $this.html(event.strftime(''\r\n      + '<div><span>%d</span> Дней</div>'\r\n      + '<div><span>%H</span> Часов</div>'\r\n      + '<div><span>%M</span> Минут</div>'\r\n      + '<div><span>%S</span> Секунд</div>'));\r\n    });\r\n  });\r\n}\r\n//gallery-slider\r\nfunction slider() {\r\n  var sliderNum = 0,\r\n      navsliderNum = 0;\r\n  $('.catalogue-block__slider').each( function() {\r\n    sliderNum++;\r\n    $(this).addClass( 'slider-' + sliderNum ).slick({\r\n      arrows: true,\r\n      asNavFor: '.nav-slider-' + sliderNum,\r\n      slidesToScroll: 1,\r\n      slidesToShow: 1,\r\n      lazyLoad: 'progressive'\r\n    });\r\n  });\r\n  $('.catalogue-block__nav-slider').each( function() {\r\n    navsliderNum++;\r\n    $(this).addClass( 'nav-slider-' + navsliderNum ).slick({\r\n      arrows: false,\r\n      asNavFor: '.slider-' + navsliderNum,\r\n      slidesToScroll: 1,\r\n      infinite: true,\r\n      slidesToShow: 5,\r\n      focusOnSelect: true,\r\n      lazyLoad: 'progressive'\r\n    });\r\n  });\r\n  //догрузка изображений при перелистывании\r\n  $('.catalogue-block__slider, .catalogue-block__nav-slider').on('afterChange', function(){\r\n    lazy();\r\n  });\r\n}\r\n//mask\r\nfunction mask() {\r\n  jQuery(function($){\r\n    $(\".phone\").mask(\"9 (999) 99-9999\");\r\n });\r\n}\r\n//popup\r\nfunction popup() {\r\n}\r\nfunction modalMagnificBasket() {\r\n\t$('.popup_link').magnificPopup({\r\n\t\tcloseBtnInside: false,\r\n    fixedContentPos: true,\r\n    removalDelay: 300,\r\n    mainClass: 'mfp-fade',\r\n    showCloseBtn: true\r\n  });\r\n  $('.popup-youtube').magnificPopup({\r\n    disableOn: 576,\r\n    type: 'iframe',\r\n    mainClass: 'mfp-fade',\r\n    removalDelay: 300,\r\n    preloader: false,\r\n    fixedContentPos: true,\r\n    closeBtnInside: false,\r\n    showCloseBtn: true\r\n  });\r\n}\r\n//якорные ссылки\r\nfunction landingScroll() {\r\n  var headerHeight = $(\".header\").height();\r\n  var body = $(\"body\");\r\n  var scrollLink = $('.scroll-link')\r\n  var desctopLink = $(\".nav__link\");\r\n\r\n  function scroll() {\r\n    if(body.hasClass(\"in-scroll\")) {} else {\r\n      scrollLink.each(function () {\r\n        var window_top = $(window).scrollTop();\r\n        var div_1 = $(this).attr('href');\r\n        if($(div_1).length > 0) {\r\n          var div_top = $(div_1).offset().top;\r\n          var blockHeight = $(div_1).height();\r\n          if (window_top > (div_top - headerHeight) && window_top < (div_top - headerHeight) + blockHeight){\r\n            $('.nav__item').find('a').removeClass('scroll-link_active');\r\n            $('.nav__item').find('a[href=\"'+div_1+'\"]').addClass('scroll-link_active');\r\n          } else {\r\n            $('.nav__item').find('a[href=\"'+div_1+'\"]').removeClass('scroll-link_active');\r\n          };\r\n        }\r\n      });\r\n    }\r\n  }\r\n  $(window).scroll(function(){\r\n    scroll();\r\n  });\r\n  scrollLink.click(function (event) {\r\n    var id  = $(this).attr('href'),\r\n        top = $(id).offset().top - headerHeight + 1;\r\n    event.preventDefault();\r\n    scrollLink.removeClass('nav__link_active');\r\n    $(this).addClass('nav__link_active');\r\n\r\n    if (mobileLink.is(event.target)) {\r\n      setTimeout(function() {\r\n        $('body,html').animate({scrollTop: top}, 400);\r\n      }, 300)\r\n    } else if (desctopLink.is(event.target)) {\r\n      $('body,html').animate({scrollTop: top}, 400);\r\n      body.addClass(\"in-scroll\");\r\n      setTimeout(function() {\r\n        body.removeClass(\"in-scroll\");\r\n      }, 400)\r\n    }\r\n  })\r\n}"]}